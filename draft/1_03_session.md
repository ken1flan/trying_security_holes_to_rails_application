# セッションハイジャックとセッション固定化

## セッション

TODO

## セッションハイジャックとセッション固定化を試す前に

被害者用と攻撃者用で2つのブラウザを使います。クッキーが別になっている必要があるので、別のブラウザか、同じブラウザで違うプロファイル（一方をシークレットモードにするなど）で試してください。

## セッションハイジャック

被害者が http://localhost:3000 を開きます。
アプリケーションよりセッションIDが配布されています。

![ログイン前の被害者](../images/1_03_session/victim.png)

攻撃者も http://localhost:3000 を開きます。
同じようにアプリケーションよりセッションIDが配布されていますが、違う環境なので違う値になっています。

![ログイン前の攻撃者](../images/1_03_session/attacker.png)

攻撃者がなんらかの方法で被害者のセッションIDを知り、自分のセッションIDとして設定したとしましょう。

![被害者のセッションIDを設定](../images/1_03_session/use_victims_session_id.png)

この状態で、被害者がログインしたとします。

![被害者がログイン](../images/1_03_session/victim_logged_in.png)

攻撃者のブラウザをリロードしてみてください。

![攻撃者がログイン](../images/1_03_session/attacker_logged_in.png)

被害者のアカウントでログインされています。

このように、なんらかの方法でセッションIDを奪ってしまえば、アカウントのパスワードを知らなくても被害者のアカウントを乗っ取ることが可能です。

## セッション固定化

TODO

### 再現の仕方

TODO

## 修正案

TODO
